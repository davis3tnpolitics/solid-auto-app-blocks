{
  "name": "examples",
  "description": "Generate a paired Next+Nest example stack, scaffold API + Cube analytics resources from Prisma contracts, and scaffold web CRUD pages.",
  "variables": {
    "web": "example-web",
    "api": "example-api",
    "model": "User",
    "webPort": 3100,
    "apiPort": 3101,
    "force": true,
    "skipDbGenerate": false
  },
  "steps": [
    {
      "id": "web",
      "block": "next-app",
      "args": [
        "--name",
        "{{web}}",
        "--port",
        "{{webPort}}",
        "--force",
        "{{force}}",
        "--skip-install"
      ]
    },
    {
      "id": "api",
      "block": "nest-app",
      "dependsOn": ["web"],
      "args": [
        "--name",
        "{{api}}",
        "--port",
        "{{apiPort}}",
        "--force",
        "{{force}}",
        "--skip-install"
      ]
    },
    {
      "id": "resource",
      "block": "api-updator",
      "dependsOn": ["api"],
      "args": [
        "--app",
        "{{api}}",
        "--model",
        "{{model}}",
        "--force",
        "{{force}}",
        "--skip-db-generate",
        "{{skipDbGenerate}}"
      ]
    },
    {
      "id": "cube-resource",
      "block": "cube-service-updator",
      "dependsOn": ["resource"],
      "args": [
        "--app",
        "{{api}}",
        "--model",
        "{{model}}",
        "--force",
        "{{force}}",
        "--skip-db-generate",
        "{{skipDbGenerate}}"
      ]
    },
    {
      "id": "web-crud",
      "block": "next-crud-pages",
      "dependsOn": ["cube-resource"],
      "args": [
        "--app",
        "{{web}}",
        "--model",
        "{{model}}",
        "--force",
        "{{force}}"
      ]
    }
  ]
}
